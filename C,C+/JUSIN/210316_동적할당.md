# 동적할당
***
- 정적할당(컴파일 시점에서 결정)과 반대 개념, 런타임 시점에서 메모리 공간을 할당하는 것.
- 사용자 임의로 할당과 삭제를 조작 가능.
- HEAP메모리 영역에 저장.
- 사용 후 삭제를 해주지 않으면 메모리 누수가 발생.
***
### malloc() 함수
```c++
	int* ptr = (int*)malloc(sizeof(int));
	*ptr = 0;
  
	/* 메모리 설명
	stack영역
	0x100 ptr 4byte (0x500)

	heap영역
	0x500 4byte
	*/

	cout << *ptr << endl; //
	cout << ptr << endl;  //
	cout << &ptr << endl; //
```
- C언어 시절에 사용했던 동적할당 함수.
- void* 형식으로 값을 반환하는 함수이므로, 형변환이 필요.
- 함수 매개변수로 넣은 sizeof은 메모리 할당 크기를 말하는 것. 해당 공간의 자료형을 뜻하는 것이 아님. 조심!
***
### malloc() 함수 배열
```c++
  int iArrSize = 0;
  cout << "배열의 크기: "<<endl;
  cin >> iArrSize;
  
  int* ptr = (int*)malloc(sizeof(int) * iArrSize); //4바이트만큼 iArrSize개 공간 할당.
```
- 동적 배열을 만드는 방법!
- int iArr[iArrSize] ->정적 배열은 불가능. 컴파일 시점에서 확정나기 때문에 변수를 넣을 수 없다.
***
### calloc() 함수
```c++
	int* ptr = (int*)calloc(1, sizeof(int)); //4바이트만큼 1개 공간 할당.
```
- malloc과 차이점: 자동으로 0초기화, 배열을 만들 수 있는 매개변수(인자)가 있다.
***
### malloc, calloc 메모리 삭제(반환)
```c++
free(ptr); //

```
- 더 이상 사용하지 않는 메모리는 반환하여 메모리 누수가 일어나지 않도록 합니다.
- 
